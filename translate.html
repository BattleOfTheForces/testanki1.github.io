<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>
	游戏术语翻译
</title>
<header>
<h1>
	游戏术语翻译
</h1>
</header>
    <section>
        <label for="inputText">输入文本：</label> <textarea id="inputText" style="width:100%;height:400px;"></textarea> <button onclick="replaceAndCopy()">替换文本并复制</button> <label for="fileName">文件名：</label> <input type="text" id="fileName" /> <button onclick="saveToFile()">保存到文件</button> </section>
    <section>
<p id="resultText">
	<br />
</p>
</section>
    <footer>
<p>
	&copy; 2024 游戏翻译网站。保留所有权利。
</p>
</footer>
<script>
        // 定义带有不区分大小写键的替换字典
        const replacementDict = {
            'turret': '炮塔',
            'firebird': '火焰炮',
            'freeze': '冰风暴',
            'isida': '磁力炮',
            // ...（添加所有其他替换）
        };
        // 替换并复制函数
        function replaceAndCopy() {
            // 获取用户输入
            let userInput = document.getElementById('inputText').value;
            // 在字典中替换每个术语
            for (const [key, value] of Object.entries(replacementDict)) {
                // 使用不区分大小写的正则表达式进行替换
                let regex = new RegExp(key, 'gi');
                userInput = userInput.replace(regex, value);
            }
            // 显示替换后的文本
            document.getElementById('resultText').innerText = userInput;
            // 复制替换后的文本到剪贴板
            const resultText = document.getElementById('resultText');
            const range = document.createRange();
            range.selectNode(resultText);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
        }
        // 保存到文件函数
        function saveToFile() {
            // 获取用户输入
            let fileName = document.getElementById('fileName').value || 'output.txt';
            let resultText = document.getElementById('resultText').innerText;
            // 创建 Blob 并创建下载链接
            const blob = new Blob([resultText], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = fileName;
            link.click();
        }
    </script>
