<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Online Users</title>
</head>

<body>
    <div>
        <h1>Total Online Users</h1>
        <p id="totalOnline"></p>
    </div>

    <script>
        // 定义一个函数，用于更新在线人数
        function updateOnlineCount() {
            // 使用JavaScript从URL获取在线人数
            fetch('http://3dtank.com/s/aa')
                .then(response => response.text())
                .then(html => {
                    // 解析HTML以获取在线人数
                    var parser = new DOMParser();
                    var doc = parser.parseFromString(html, 'text/html');
                    var onlineCount = doc.getElementById('onlineNow').textContent;

                    // 显示总在线人数
                    var totalOnlineElement = document.getElementById("totalOnline");
                    totalOnlineElement.textContent = "总在线：" + onlineCount;
                })
                .catch(error => console.error('获取在线人数时出错：', error));
        }

        // 初始加载时调用一次
        updateOnlineCount();

        // 每隔一定时间更新一次在线人数（例如，每5秒更新一次）
        setInterval(updateOnlineCount, 5000);
    </script>
</body>

</html>
